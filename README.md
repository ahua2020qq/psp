# ğŸ” ç¨‹åºå‘˜å·¥å…·æœç´¢å¹³å° (PSP)

> åŸºäº LLM çš„æ™ºèƒ½å·¥å…·æœç´¢å¼•æ“ - è®©ç¨‹åºå‘˜æ‰¾åˆ°å·¥å…·ä¸å†å›°éš¾

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![GitHub stars](https://img.shields.io/github/stars/ahua2020qq/psp?style=social)](https://github.com/ahua2020qq/psp/stargazers)
[![Live Demo](https://img.shields.io/badge/demo-online-brightgreen.svg)](https://douya.chat)

## âœ¨ ç‰¹æ€§

- ğŸ¤– **LLM é©±åŠ¨** - ä½¿ç”¨ DeepSeek + ç«å±±æ–¹èˆŸåŒ APIï¼Œæ™ºèƒ½ç†è§£æœç´¢æ„å›¾
- âš¡ **æ™ºèƒ½ç¼“å­˜** - å®¢æˆ·ç«¯ç¼“å­˜ç³»ç»Ÿï¼Œå·²æœç´¢å·¥å…·ç¬é—´å“åº”ï¼ˆ< 0.1ç§’ï¼‰
- ğŸš¦ **é€Ÿç‡é™åˆ¶** - 5ç§’å†·å´ + æ¯æ—¥30æ¬¡é™é¢ï¼Œé˜²æ­¢æ¶æ„æ¶ˆè€— API é…é¢
- ğŸ¨ **ç²¾ç¾ UI** - åŸºäº TailwindCSS + shadcn/uiï¼Œæ”¯æŒæ·±è‰²æ¨¡å¼
- ğŸ”’ **å®‰å…¨è®¾è®¡** - API å¯†é’¥æœåŠ¡ç«¯ç®¡ç†ï¼Œå®¢æˆ·ç«¯é›¶æš´éœ²
- ğŸ“¦ **å¼€ç®±å³ç”¨** - ä¸€é”®éƒ¨ç½²åˆ° Cloudflare Pagesï¼Œå®Œå…¨å…è´¹

## ğŸŒ åœ¨çº¿ä½“éªŒ

è®¿é—® **[douya.chat](https://douya.chat)** ç«‹å³ä½“éªŒ

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### æ™ºèƒ½æœç´¢
- è‡ªç„¶è¯­è¨€æœç´¢ï¼šç›´æ¥è¾“å…¥å·¥å…·åç§°å³å¯
- ç»“æ„åŒ–ç»“æœï¼šåŒ…å«å®‰è£…ã€ä½¿ç”¨ã€å¸¸è§é—®é¢˜ç­‰å®Œæ•´ä¿¡æ¯
- ç›¸å…³æ¨èï¼šæ™ºèƒ½æ¨èç›¸å…³å·¥å…·

### æ€§èƒ½ä¼˜åŒ–
- **ç¼“å­˜æŸ¥è¯¢**ï¼š< 0.1ç§’ï¼ˆä¸æ¶ˆè€— API é…é¢ï¼‰
- **API æŸ¥è¯¢**ï¼š3-5ç§’ï¼ˆé¦–æ¬¡æœç´¢ï¼‰
- **ä»£ç åˆ†å‰²**ï¼š225KB â†’ 73KBï¼ˆgzipï¼‰

### æˆæœ¬æ§åˆ¶
- å®¢æˆ·ç«¯ç¼“å­˜ä¼˜å…ˆï¼Œå¤§éƒ¨åˆ†æŸ¥è¯¢ä¸æ¶ˆè€— API é…é¢
- é€Ÿç‡é™åˆ¶æœºåˆ¶ï¼Œé˜²æ­¢æ¶æ„åˆ·æ¥å£
- æ‰¹é‡ç”Ÿæˆè„šæœ¬ï¼Œé¢„ç”Ÿæˆå¸¸ç”¨å·¥å…·

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **æ ·å¼**: TailwindCSS
- **ç»„ä»¶åº“**: shadcn/ui
- **å›¾æ ‡**: Lucide React

### åç«¯
- **æ— æœåŠ¡å™¨**: Cloudflare Pages Functions
- **API ä»£ç†**: éšè—å¯†é’¥ã€è§£å†³ CORS
- **LLM**: DeepSeek API + ç«å±±æ–¹èˆŸ API

### éƒ¨ç½²
- **æ‰˜ç®¡**: Cloudflare Pages
- **åŸŸå**: douya.chat
- **CDN**: Cloudflare å…¨çƒåŠ é€Ÿ

## ğŸ“¦ å®‰è£…ä¸è¿è¡Œ

### å‰ç½®è¦æ±‚
- Node.js >= 18
- npm æˆ– yarn

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/ahua2020qq/psp.git
cd psp
```

### 2. å®‰è£…ä¾èµ–
```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.dev.vars` æ–‡ä»¶ï¼ˆä»…æœ¬åœ°å¼€å‘ï¼‰ï¼š
```bash
# DeepSeek API
DEEPSEEK_API_KEY=sk-your-deepseek-key

# ç«å±±æ–¹èˆŸ APIï¼ˆå¯é€‰ï¼Œä½œä¸ºå¤‡ä»½ï¼‰
VOLC_ARK_API_KEY=your-volc-ark-key
```

è·å– API å¯†é’¥ï¼š
- [DeepSeek API](https://platform.deepseek.com/)
- [ç«å±±æ–¹èˆŸ ARK](https://ark.cn-beijing.volces.com/)

### 4. å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨

**ç»ˆç«¯ 1 - å¯åŠ¨ Workerï¼ˆAPI ä»£ç†ï¼‰**
```bash
npx wrangler pages dev build --port 8788 --local
```

**ç»ˆç«¯ 2 - å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

è®¿é—® http://localhost:3000

### 5. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

## ğŸš€ éƒ¨ç½²åˆ° Cloudflare Pages

### æ–¹å¼ 1ï¼šè‡ªåŠ¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. Fork æœ¬ä»“åº“åˆ°ä½ çš„ GitHub
2. åœ¨ Cloudflare Dashboard ä¸­è¿æ¥ GitHub
3. é€‰æ‹© `psp` ä»“åº“
4. æ„å»ºå‘½ä»¤ï¼š`npm run build`
5. è¾“å‡ºç›®å½•ï¼š`build`
6. æ·»åŠ ç¯å¢ƒå˜é‡ï¼ˆSettings â†’ Environment Variablesï¼‰ï¼š
   - `DEEPSEEK_API_KEY`
   - `VOLC_ARK_API_KEY`
7. éƒ¨ç½²ï¼

### æ–¹å¼ 2ï¼šæ‰‹åŠ¨éƒ¨ç½²

```bash
npm run build
npx wrangler pages deploy build --project-name=your-project-name
```

### é…ç½®è‡ªå®šä¹‰åŸŸå

1. åœ¨ Cloudflare Pages é¡¹ç›®ä¸­ï¼Œè¿›å…¥ Custom domains
2. æ·»åŠ ä½ çš„åŸŸåï¼ˆå¦‚ `douya.chat`ï¼‰
3. æŒ‰ç…§æç¤ºé…ç½® DNS è®°å½•
4. ç­‰å¾… SSL è¯ä¹¦è‡ªåŠ¨ç”Ÿæˆ

## ğŸ“– æ–‡æ¡£

- [æ‰¹é‡ç”ŸæˆæŒ‡å—](./BATCH_GENERATION_GUIDE.md) - é¢„ç”Ÿæˆå·¥å…·æ•°æ®ä»¥æå‡æ€§èƒ½
- [éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md) - è¯¦ç»†çš„éƒ¨ç½²è¯´æ˜
- [Prompt æŒ‡å—](./src/PROMPT_GUIDE.md) - LLM Prompt å·¥ç¨‹è¯´æ˜

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
psp/
â”œâ”€â”€ functions/           # Cloudflare Pages Functions
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ search.js    # API ä»£ç† + Prompt æ¨¡æ¿
â”œâ”€â”€ scripts/            # å·¥å…·è„šæœ¬
â”‚   â””â”€â”€ batch-generate.js  # æ‰¹é‡ç”Ÿæˆå·¥å…·æ•°æ®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/            # API è°ƒç”¨
â”‚   â”‚   â””â”€â”€ llmApi.ts
â”‚   â”œâ”€â”€ components/     # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ SearchBox.tsx
â”‚   â”‚   â”œâ”€â”€ SearchResults.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ cache.ts        # ç¼“å­˜ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ rateLimiter.ts  # é€Ÿç‡é™åˆ¶
â”‚   â”‚   â””â”€â”€ storage.ts      # æœ¬åœ°å­˜å‚¨
â”‚   â””â”€â”€ App.tsx         # ä¸»åº”ç”¨
â”œâ”€â”€ .dev.vars          # æœ¬åœ°å¼€å‘ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤ï¼‰
â”œâ”€â”€ wrangler.toml      # Cloudflare é…ç½®
â””â”€â”€ vite.config.ts     # Vite é…ç½®
```

## ğŸ”§ æ ¸å¿ƒ API é€»è¾‘

### ç¼“å­˜ä¼˜å…ˆç­–ç•¥
```
ç”¨æˆ·æœç´¢
  â†“
æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜
  â†“
å‘½ä¸­ â†’ è¿”å›ç»“æœï¼ˆ< 0.1ç§’ï¼‰âœ…
  â†“
æœªå‘½ä¸­
  â†“
æ£€æŸ¥é€Ÿç‡é™åˆ¶
  â†“
å…è®¸ â†’ è°ƒç”¨ LLM APIï¼ˆ3-5ç§’ï¼‰â†’ ä¿å­˜åˆ°ç¼“å­˜
  â†“
æ‹’ç» â†’ æ˜¾ç¤ºé”™è¯¯æç¤º
```

### é€Ÿç‡é™åˆ¶è§„åˆ™
- â±ï¸ **5ç§’å†·å´**ï¼šé˜²æ­¢è¿ç»­ç‚¹å‡»
- ğŸ”¢ **30æ¬¡/å¤©**ï¼šæ¯æ—¥ API è°ƒç”¨é™é¢
- ğŸ’¾ **ç¼“å­˜ä¾‹å¤–**ï¼šå·²ç¼“å­˜å·¥å…·æ— é™æŸ¥è¯¢

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| é¦–æ¬¡åŠ è½½ | < 1ç§’ |
| ç¼“å­˜æŸ¥è¯¢ | < 0.1ç§’ |
| API æŸ¥è¯¢ | 3-5ç§’ |
| æ‰“åŒ…ä½“ç§¯ | 225KB (gzip: 73KB) |
| Lighthouse Score | 95+ |

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### æäº¤è§„èŒƒ

éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/)ï¼š
- `feat:` æ–°åŠŸèƒ½
- `fix:` ä¿®å¤ bug
- `docs:` æ–‡æ¡£æ›´æ–°
- `style:` ä»£ç æ ¼å¼è°ƒæ•´
- `refactor:` ä»£ç é‡æ„
- `test:` æµ‹è¯•ç›¸å…³
- `chore:` æ„å»º/å·¥å…·é“¾æ›´æ–°

## ğŸ“ å¾…åŠäº‹é¡¹

- [ ] æ·»åŠ ç”¨æˆ·ç³»ç»Ÿï¼ˆç™»å½• + äº‘ç«¯ç¼“å­˜åŒæ­¥ï¼‰
- [ ] å·¥å…·å¯¹æ¯”åŠŸèƒ½ï¼ˆMySQL vs PostgreSQLï¼‰
- [ ] æµè§ˆå™¨æ’ä»¶ï¼ˆä¸€é”®æœç´¢å½“å‰é¡µé¢å·¥å…·ï¼‰
- [ ] ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–
- [ ] å›½é™…åŒ–æ”¯æŒï¼ˆè‹±æ–‡ç‰ˆï¼‰
- [ ] API å¼€æ”¾å¹³å°

## ğŸ› å·²çŸ¥é—®é¢˜

- é¦–é¡µæ¨è API å·²ç§»é™¤ï¼ˆä¸ºæå‡åŠ è½½é€Ÿåº¦ï¼‰
- å®¢æˆ·ç«¯ç¼“å­˜åœ¨æ¸…ç©ºæµè§ˆå™¨æ•°æ®åä¼šä¸¢å¤±
- æš‚ä¸æ”¯æŒç”¨æˆ·é—´ç¼“å­˜å…±äº«

## â“ å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆç§»é™¤äº†é¦–é¡µæ¨èåŠŸèƒ½ï¼Ÿ**

A: ä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒã€‚æ‰“å¼€ç½‘ç«™ç›´æ¥æ˜¾ç¤ºæœç´¢æ¡†ï¼Œæ— éœ€ç­‰å¾… 3-5 ç§’åŠ è½½æ¨èã€‚ç”¨æˆ·å¯ä»¥ç›´æ¥æœç´¢è‡ªå·±éœ€è¦çš„å·¥å…·ã€‚

**Q: å¦‚ä½•é¢„ç”Ÿæˆæ›´å¤šå·¥å…·æ•°æ®ï¼Ÿ**

A: è¿è¡Œæ‰¹é‡ç”Ÿæˆè„šæœ¬ï¼š
```bash
node scripts/batch-generate.js --limit 30
```

**Q: API é…é¢ç”¨å®Œäº†æ€ä¹ˆåŠï¼Ÿ**

A: å·²ç¼“å­˜çš„å·¥å…·ä»å¯æ­£å¸¸æŸ¥è¯¢ã€‚æ–°å·¥å…·éœ€ç­‰å¾…æ¬¡æ—¥é…é¢é‡ç½®ï¼Œæˆ–åœ¨ä¸åŒè®¾å¤‡ä¸Šæœç´¢ï¼ˆè®¾å¤‡ ID ä¸åŒï¼‰ã€‚

**Q: å¯ä»¥å•†ä¸šåŒ–ä½¿ç”¨å—ï¼Ÿ**

A: é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œå¯è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹ã€‚ä½†è¯·æ³¨æ„ LLM API çš„æˆæœ¬ã€‚

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE)

## ğŸ™ è‡´è°¢

- [DeepSeek](https://www.deepseek.com/) - æä¾›å¼ºå¤§çš„ LLM API
- [Cloudflare](https://www.cloudflare.com/) - æä¾›å…è´¹çš„æ— æœåŠ¡å™¨æ‰˜ç®¡
- [Vite](https://vitejs.dev/) - æé€Ÿçš„å‰ç«¯æ„å»ºå·¥å…·
- [shadcn/ui](https://ui.shadcn.com/) - ç²¾ç¾çš„ React ç»„ä»¶åº“

## ğŸ“® è”ç³»æ–¹å¼

- ä½œè€…ï¼šahua2020qq
- ç½‘ç«™ï¼šhttps://douya.chat
- GitHub Issuesï¼š[æäº¤é—®é¢˜](https://github.com/ahua2020qq/psp/issues)

---

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Star æ”¯æŒä¸€ä¸‹ï¼
